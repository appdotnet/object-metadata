<!-- give your annotation a title -->
# Presence (Online Status) 

<!-- specify the "type" for your annotation -->
> ### org.xmpp.presence

<!-- provide a description of what your annotation represents -->
The presence annotation is a user annotation.  It is meant to convey the current online status for a user.

<!-- provide at least one example of what your annotation might look like in the wild -->
## Examples

Just the required parameters:

~~~ js
{
    "type": "org.xmpp.presence",
    "value": {
        "code": "available",
        "updated_at": "2012-07-16T17:25:47Z"
    }
}
~~~

With all optional parameters:

~~~ js
{
    "type": "org.xmpp.presence",
    "value": {
        "code": "xa",
        "status": "Off to Hawaii!!!",
        "link": "http://myvacation.com",
        "updated_at": "2012-07-16T17:25:47Z"
    }
}
~~~

<!-- provide a complete description of the fields in the "value" object for your annotation -->
## Fields

| Field                 | Required? | Type    | Description                                                                                                              |
| -----                 | --------- | ----    | -----------                                                                                                              |
| `code`            | Required  | string | Presence codes (see the list below for allowed values). |
| `status`           | Optional  | string | User supplied text.                                 |
| `link`            | Optional  | string | User supplied URL.                                                    |
| `updated_at` | Required  | string | The time at which the status was last changed in [ISO 8601](http://en.wikipedia.org/wiki/ISO_8601) format.                    |


##Code Values

Valid list of presence codes.

| Value    | Description |
| -----                 | --------- |
| `available` | The entity or resource is open to receiving messages and is likely to respond. |
| `busy` | The entity or resource is open to receiving messages, however, a response should not be expected. |
| `away` | The entity or resource is temporarily away. |
| `dnd` | The entity or resource is busy (dnd = "Do Not Disturb").  This is similar to busy, however, it is more emphatic. The entity or resource is not open to receiving messages. |
| `xa` | The entity or resource is away for an extended period (xa = "eXtended Away"). |

## Notes  

A standard [XMPP presence stanza] (http://tools.ietf.org/html/rfc6121#section-4.7) can be generated from this spec.

The XMPP 'type' attribute can be derived from the presence code.  All of the standard 'show' codes are borrowed from XMPP except 'chat' -- which can be assumed in the 'available' code.  The 'show' attribute has been changed to 'code' for clarity.

A custom status can be generated by using codes of 'available' or 'busy' with a custom "status."  Please review the functionality of Google Talk for an example of implementing the custom status UI.


<!-- provide a way to contact you -->
## Maintainers
* [Shannon Whitley](http://voiceoftech.com) ([@swhitley](https://alpha.app.net/swhitley), [swhitley@whitleymedia.com](mailto:swhitley@whitleymedia.com))

<!-- provide references to compatible apps / service -->
## Used by

[ADN Profile WordPress Plugin] (http://wordpress.org/extend/plugins/adn-profile/) - Update your status from the sidebar of a WordPress blog.  (The plugin does not yet include `updated_at`, even though it is noted as required in this spec.)

<!-- provide references to related annotations -->
## Related annotations
 

